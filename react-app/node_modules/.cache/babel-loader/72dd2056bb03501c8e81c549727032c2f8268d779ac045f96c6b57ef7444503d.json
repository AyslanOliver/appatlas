{"ast":null,"code":"import axios from 'axios';\n\n// Configuração da API\nfunction getApiUrl() {\n  // Se estiver rodando no Cordova (protocolo file:), usar sempre a API do Vercel\n  if (window.location.protocol === 'file:') {\n    return 'https://pizzaria-app-atlas.vercel.app';\n  }\n  const hostname = window.location.hostname;\n  const isLocal = hostname === 'localhost' || hostname === '127.0.0.1';\n  if (isLocal) {\n    // Em desenvolvimento local, sempre usar porta 3000 para a API\n    return 'http://localhost:3000';\n  } else {\n    // Em produção, usar a mesma origem\n    return window.location.origin;\n  }\n}\nconst API_URL = getApiUrl();\n\n// Configuração do axios\nconst api = axios.create({\n  baseURL: API_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Debug: Log da configuração da API\nconsole.log('API_URL configurado:', API_URL);\nconsole.log('Protocolo atual:', window.location.protocol);\nconsole.log('Hostname atual:', window.location.hostname);\nconsole.log('Ambiente detectado:', window.location.protocol === 'file:' ? 'Cordova' : 'Web');\n\n// Função para testar a conexão com a API\nexport const testarConexao = async () => {\n  try {\n    await api.get('/api/produtos');\n    console.log('Conexão com a API estabelecida com sucesso!');\n    return true;\n  } catch (error) {\n    console.error('Erro de conexão:', error);\n    throw new Error('Erro ao conectar com o servidor. Verifique se a API está rodando.');\n  }\n};\n\n// Funções para gerenciamento de produtos\nexport const getProdutos = async () => {\n  try {\n    const response = await api.get('/api/produtos');\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao buscar produtos:', error);\n    throw error;\n  }\n};\nexport const criarProduto = async (tipo, dados) => {\n  try {\n    const response = await api.post(`/api/produtos/${tipo}`, dados);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao criar produto:', error);\n    throw error;\n  }\n};\nexport const atualizarProduto = async (tipo, id, dados) => {\n  try {\n    const response = await api.put(`/api/produtos/${tipo}/${id}`, dados);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao atualizar produto:', error);\n    throw error;\n  }\n};\nexport const deletarProduto = async (tipo, id) => {\n  try {\n    const response = await api.delete(`/api/produtos/${tipo}/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao deletar produto:', error);\n    throw error;\n  }\n};\n\n// Funções para gerenciamento de pedidos\nexport const getPedidos = async () => {\n  try {\n    const response = await api.get('/api/pedidos');\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao buscar pedidos:', error);\n    throw error;\n  }\n};\nexport const getPedidoById = async id => {\n  try {\n    const response = await api.get(`/api/pedidos/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao buscar pedido:', error);\n    throw error;\n  }\n};\nexport const criarPedido = async pedido => {\n  try {\n    const response = await api.post('/api/pedidos', pedido);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao criar pedido:', error);\n    throw error;\n  }\n};\nexport const atualizarPedido = async (id, dados) => {\n  try {\n    const response = await api.put(`/api/pedidos/${id}`, dados);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao atualizar pedido:', error);\n    throw error;\n  }\n};\nexport const deletarPedido = async id => {\n  try {\n    const response = await api.delete(`/api/pedidos/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao deletar pedido:', error);\n    throw error;\n  }\n};\nexport const getCardapio = async (tipo = '') => {\n  try {\n    const url = tipo ? `/api/cardapio?tipo=${tipo}` : '/api/cardapio';\n    const response = await api.get(url);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao buscar cardápio:', error);\n    throw error;\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","getApiUrl","window","location","protocol","hostname","isLocal","origin","API_URL","api","create","baseURL","timeout","headers","console","log","testarConexao","get","error","Error","getProdutos","response","data","criarProduto","tipo","dados","post","atualizarProduto","id","put","deletarProduto","delete","getPedidos","getPedidoById","criarPedido","pedido","atualizarPedido","deletarPedido","getCardapio","url"],"sources":["E:/appatlas/react-app/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Configuração da API\nfunction getApiUrl() {\n    // Se estiver rodando no Cordova (protocolo file:), usar sempre a API do Vercel\n    if (window.location.protocol === 'file:') {\n        return 'https://pizzaria-app-atlas.vercel.app';\n    }\n    \n    const hostname = window.location.hostname;\n    const isLocal = hostname === 'localhost' || hostname === '127.0.0.1';\n    \n    if (isLocal) {\n        // Em desenvolvimento local, sempre usar porta 3000 para a API\n        return 'http://localhost:3000';\n    } else {\n        // Em produção, usar a mesma origem\n        return window.location.origin;\n    }\n}\n\nconst API_URL = getApiUrl();\n\n// Configuração do axios\nconst api = axios.create({\n    baseURL: API_URL,\n    timeout: 10000,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\n// Debug: Log da configuração da API\nconsole.log('API_URL configurado:', API_URL);\nconsole.log('Protocolo atual:', window.location.protocol);\nconsole.log('Hostname atual:', window.location.hostname);\nconsole.log('Ambiente detectado:', window.location.protocol === 'file:' ? 'Cordova' : 'Web');\n\n// Função para testar a conexão com a API\nexport const testarConexao = async () => {\n    try {\n        await api.get('/api/produtos');\n        console.log('Conexão com a API estabelecida com sucesso!');\n        return true;\n    } catch (error) {\n        console.error('Erro de conexão:', error);\n        throw new Error('Erro ao conectar com o servidor. Verifique se a API está rodando.');\n    }\n};\n\n// Funções para gerenciamento de produtos\nexport const getProdutos = async () => {\n    try {\n        const response = await api.get('/api/produtos');\n        return response.data;\n    } catch (error) {\n        console.error('Erro ao buscar produtos:', error);\n        throw error;\n    }\n};\n\nexport const criarProduto = async (tipo, dados) => {\n    try {\n        const response = await api.post(`/api/produtos/${tipo}`, dados);\n        return response.data;\n    } catch (error) {\n        console.error('Erro ao criar produto:', error);\n        throw error;\n    }\n};\n\nexport const atualizarProduto = async (tipo, id, dados) => {\n    try {\n        const response = await api.put(`/api/produtos/${tipo}/${id}`, dados);\n        return response.data;\n    } catch (error) {\n        console.error('Erro ao atualizar produto:', error);\n        throw error;\n    }\n};\n\nexport const deletarProduto = async (tipo, id) => {\n    try {\n        const response = await api.delete(`/api/produtos/${tipo}/${id}`);\n        return response.data;\n    } catch (error) {\n        console.error('Erro ao deletar produto:', error);\n        throw error;\n    }\n};\n\n// Funções para gerenciamento de pedidos\nexport const getPedidos = async () => {\n    try {\n        const response = await api.get('/api/pedidos');\n        return response.data;\n    } catch (error) {\n        console.error('Erro ao buscar pedidos:', error);\n        throw error;\n    }\n};\n\nexport const getPedidoById = async (id) => {\n    try {\n        const response = await api.get(`/api/pedidos/${id}`);\n        return response.data;\n    } catch (error) {\n        console.error('Erro ao buscar pedido:', error);\n        throw error;\n    }\n};\n\nexport const criarPedido = async (pedido) => {\n    try {\n        const response = await api.post('/api/pedidos', pedido);\n        return response.data;\n    } catch (error) {\n        console.error('Erro ao criar pedido:', error);\n        throw error;\n    }\n};\n\nexport const atualizarPedido = async (id, dados) => {\n    try {\n        const response = await api.put(`/api/pedidos/${id}`, dados);\n        return response.data;\n    } catch (error) {\n        console.error('Erro ao atualizar pedido:', error);\n        throw error;\n    }\n};\n\nexport const deletarPedido = async (id) => {\n    try {\n        const response = await api.delete(`/api/pedidos/${id}`);\n        return response.data;\n    } catch (error) {\n        console.error('Erro ao deletar pedido:', error);\n        throw error;\n    }\n};\n\nexport const getCardapio = async (tipo = '') => {\n    try {\n        const url = tipo ? `/api/cardapio?tipo=${tipo}` : '/api/cardapio';\n        const response = await api.get(url);\n        return response.data;\n    } catch (error) {\n        console.error('Erro ao buscar cardápio:', error);\n        throw error;\n    }\n};\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}